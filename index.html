<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üê≠ Maus Labyrinth Spiel üßÄ</title>
    <style>
        body {
            margin: 0;
            padding: 10px;
            font-family: Arial, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        .game-container {
            background: white;
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
            text-align: center;
        }
        .game-title {
            color: #333;
            margin-bottom: 20px;
            font-size: 24px;
            font-weight: bold;
        }
        .maze {
            display: inline-block;
            border: 3px solid #333;
            background: #f0f0f0;
        }
        .maze-row {
            display: flex;
            height: 30px;
        }
        .maze-cell {
            width: 30px;
            height: 30px;
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .wall { background: #333; }
        .path { background: #fff; }
        .player, .cat, .cheese {
            font-size: 20px;
            position: absolute;
        }
        .score {
            font-size: 18px;
            margin: 15px 0;
            color: #666;
        }
        .controls {
            margin-top: 20px;
        }
        .control-btn {
            background: #4CAF50;
            color: white;
            border: none;
            border-radius: 8px;
            padding: 15px;
            font-size: 18px;
            cursor: pointer;
            margin: 5px;
        }
        .control-btn:active {
            background: #45a049;
        }
        .instructions {
            margin-top: 15px;
            font-size: 14px;
            color: #666;
        }
        .game-over, .game-won {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: rgba(0,0,0,0.9);
            color: white;
            padding: 30px;
            border-radius: 10px;
            text-align: center;
            z-index: 1000;
        }
        .reset-btn {
            background: #ff6b6b;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
            margin-top: 15px;
        }
        @media (max-width: 600px) {
            .game-container {
                transform: scale(0.7);
                transform-origin: center;
            }
            .instructions { display: none; }
        }
    </style>
</head>
<body>
    <div class="game-container">
        <div class="game-title">üê≠ Maus Labyrinth Abenteuer üßÄ</div>
        <div class="score">Punkte: <span id="score">0</span> | K√§se: <span id="cheeseCount">4</span></div>
        <div class="maze" id="maze"></div>
        <div class="controls">
            <div>
                <button class="control-btn" onclick="movePlayer(0,-1)">‚Üë</button>
            </div>
            <div>
                <button class="control-btn" onclick="movePlayer(-1,0)">‚Üê</button>
                <button class="control-btn" onclick="movePlayer(1,0)">‚Üí</button>
            </div>
            <div>
                <button class="control-btn" onclick="movePlayer(0,1)">‚Üì</button>
            </div>
            <div class="instructions">
                Verwende die Pfeiltasten oder WASD zum Bewegen.<br>
                Sammle alle K√§sest√ºcke und vermeide die Katze! üê±
            </div>
        </div>
        <div class="game-over" id="gameOver" style="display: none;">
            <h2>üê± Die Katze hat dich erwischt!</h2>
            <p>Versuche es nochmal!</p>
            <button class="reset-btn" onclick="resetGame()">Nochmal spielen</button>
        </div>
        <div class="game-won" id="gameWon" style="display: none;">
            <h2>üéâ Gewonnen!</h2>
            <p>Du hast alle K√§sest√ºcke gesammelt!</p>
            <p>Endpunktzahl: <span id="finalScore"></span></p>
            <button class="reset-btn" onclick="resetGame()">Nochmal spielen</button>
        </div>
    </div>

    <script>
        let gameState = {
            player: { x: 1, y: 1 },
            cat: { x: 13, y: 11 },
            cheese: [
                { x: 3, y: 2 },
                { x: 11, y: 5 },
                { x: 7, y: 9 },
                { x: 13, y: 2 }
            ],
            score: 0,
            gameRunning: true
        };

        const maze = [
            [1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],
            [1,0,0,0,1,0,0,0,0,0,0,0,0,0,1],
            [1,0,1,0,1,0,1,1,1,1,1,1,1,0,1],
            [1,0,1,0,0,0,0,0,0,0,0,0,1,0,1],
            [1,0,1,1,1,1,1,0,1,1,1,0,1,0,1],
            [1,0,0,0,0,0,0,0,1,0,0,0,1,0,1],
            [1,1,1,0,1,1,1,0,1,0,1,1,1,0,1],
            [1,0,0,0,0,0,1,0,0,0,1,0,0,0,1],
            [1,0,1,1,1,0,1,1,1,0,1,0,1,1,1],
            [1,0,0,0,1,0,0,0,0,0,1,0,0,0,1],
            [1,1,1,0,1,1,1,0,1,1,1,1,1,0,1],
            [1,0,0,0,0,0,0,0,0,0,0,0,0,0,1],
            [1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]
        ];

        function initGame() {
            const mazeElement = document.getElementById("maze");
            mazeElement.innerHTML = "";
            
            for (let y = 0; y < maze.length; y++) {
                const row = document.createElement("div");
                row.className = "maze-row";
                
                for (let x = 0; x < maze[y].length; x++) {
                    const cell = document.createElement("div");
                    cell.className = `maze-cell ${maze[y][x] === 1 ? "wall" : "path"}`;
                    cell.id = `cell-${x}-${y}`;
                    row.appendChild(cell);
                }
                
                mazeElement.appendChild(row);
            }
            
            updateDisplay();
        }

        function updateDisplay() {
            document.querySelectorAll(".player, .cheese, .cat").forEach(el => el.remove());
            
            const playerCell = document.getElementById(`cell-${gameState.player.x}-${gameState.player.y}`);
            if (playerCell) {
                const playerSpan = document.createElement("span");
                playerSpan.className = "player";
                playerSpan.textContent = "üê≠";
                playerCell.appendChild(playerSpan);
            }
            
            const catCell = document.getElementById(`cell-${gameState.cat.x}-${gameState.cat.y}`);
            if (catCell) {
                const catSpan = document.createElement("span");
                catSpan.className = "cat";
                catSpan.textContent = "üê±";
                catCell.appendChild(catSpan);
            }
            
            gameState.cheese.forEach(cheese => {
                const cheeseCell = document.getElementById(`cell-${cheese.x}-${cheese.y}`);
                if (cheeseCell) {
                    const cheeseSpan = document.createElement("span");
                    cheeseSpan.className = "cheese";
                    cheeseSpan.textContent = "üßÄ";
                    cheeseCell.appendChild(cheeseSpan);
                }
            });
            
            document.getElementById("score").textContent = gameState.score;
            document.getElementById("cheeseCount").textContent = gameState.cheese.length;
        }

        function isValidMove(x, y) {
            return x >= 0 && x < maze[0].length && 
                   y >= 0 && y < maze.length && 
                   maze[y][x] === 0;
        }

        function movePlayer(dx, dy) {
            if (!gameState.gameRunning) return;
            
            const newX = gameState.player.x + dx;
            const newY = gameState.player.y + dy;
            
            if (isValidMove(newX, newY)) {
                gameState.player.x = newX;
                gameState.player.y = newY;
                
                const cheeseIndex = gameState.cheese.findIndex(
                    cheese => cheese.x === newX && cheese.y === newY
                );
                
                if (cheeseIndex !== -1) {
                    gameState.cheese.splice(cheeseIndex, 1);
                    gameState.score += 100;
                    
                    if (gameState.cheese.length === 0) {
                        gameState.gameRunning = false;
                        document.getElementById("finalScore").textContent = gameState.score;
                        document.getElementById("gameWon").style.display = "block";
                        return;
                    }
                }
                
                if (gameState.player.x === gameState.cat.x && gameState.player.y === gameState.cat.y) {
                    gameState.gameRunning = false;
                    document.getElementById("gameOver").style.display = "block";
                    return;
                }
                
                updateDisplay();
            }
        }

        function moveCat() {
            if (!gameState.gameRunning) return;
            
            const dx = gameState.player.x - gameState.cat.x;
            const dy = gameState.player.y - gameState.cat.y;
            
            let moveX = 0, moveY = 0;
            
            if (Math.abs(dx) > Math.abs(dy)) {
                moveX = dx > 0 ? 1 : -1;
            } else {
                moveY = dy > 0 ? 1 : -1;
            }
            
            let newX = gameState.cat.x + moveX;
            let newY = gameState.cat.y + moveY;
            
            if (isValidMove(newX, newY)) {
                gameState.cat.x = newX;
                gameState.cat.y = newY;
            }
            
            if (gameState.player.x === gameState.cat.x && gameState.player.y === gameState.cat.y) {
                gameState.gameRunning = false;
                document.getElementById("gameOver").style.display = "block";
                return;
            }
            
            updateDisplay();
        }

        function resetGame() {
            gameState = {
                player: { x: 1, y: 1 },
                cat: { x: 13, y: 11 },
                cheese: [
                    { x: 3, y: 2 },
                    { x: 11, y: 5 },
                    { x: 7, y: 9 },
                    { x: 13, y: 2 }
                ],
                score: 0,
                gameRunning: true
            };
            
            document.getElementById("gameOver").style.display = "none";
            document.getElementById("gameWon").style.display = "none";
            updateDisplay();
        }

        document.addEventListener("keydown", (e) => {
            switch(e.key) {
                case "ArrowUp":
                case "w":
                case "W":
                    e.preventDefault();
                    movePlayer(0, -1);
                    break;
                case "ArrowDown":
                case "s":
                case "S":
                    e.preventDefault();
                    movePlayer(0, 1);
                    break;
                case "ArrowLeft":
                case "a":
                case "A":
                    e.preventDefault();
                    movePlayer(-1, 0);
                    break;
                case "ArrowRight":
                case "d":
                case "D":
                    e.preventDefault();
                    movePlayer(1, 0);
                    break;
            }
        });

        initGame();
        setInterval(moveCat, 800);
    </script>
</body>
</html>
